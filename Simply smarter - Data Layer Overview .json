{"version":16,"variables":[{"key":"top","type":"csv","visible":true,"input":"1,2,5,10,25,50,100,500,1000","multiple":false,"defaultValue":"10"},{"key":"custom_device","type":"query","visible":false,"input":"fetch dt.entity.custom_device\n| fields id\n| append [data record(id=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"service","type":"query","visible":false,"input":"fetch dt.entity.service\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"process_group","type":"query","visible":false,"input":"fetch dt.entity.process_group\n| append [data record(id=\"no data\")]\n| fields id\n","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"host","type":"query","visible":false,"input":"fetch dt.entity.host\n| append [data record(id=\"no data\")]\n| fields id\n","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"application_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.application]\n| dedup appid\n| fields appid\n| append [data record(appid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"synthetic_test_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.application]\n| fields appid\n| join [\n    fetch dt.entity.synthetic_test\n    | fieldsAdd appid=manuallyAssignedApplications\n    | expand appid\n   ], on:{appid}, kind:inner\n| fields synthid=right.id\n| append [data record(synthid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"http_check_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.application]\n| fields appid\n| join [\n    fetch dt.entity.http_check\n    | fieldsAdd appid=manuallyAssignedApplications\n    | expand appid\n   ], on:{appid}, kind:inner\n| fields synthid=right.id\n| append [data record(synthid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"custom_application_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.custom_application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.custom_application]\n| dedup appid\n| fields appid\n| append [data record(appid=\"no data\")]\n","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"mobile_application_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.mobile_application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.mobile_application]\n| dedup appid\n| fields appid\n| append [data record(appid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"cloud_application","type":"query","visible":false,"input":"fetch dt.entity.cloud_application\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"cloud_application_instance","type":"query","visible":false,"input":"fetch dt.entity.cloud_application_instance\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"cloud_application_namespace","type":"query","visible":false,"input":"fetch dt.entity.cloud_application_namespace\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"application_method_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.application]\n| fields appid\n| join [\n   fetch dt.entity.application_method\n   | fieldsAdd appid=belongs_to[dt.entity.application]\n   ], on:{appid}, kind:inner\n| fields uaid=right.id\n| append [data record(uaid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"device_application_method_from_service","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.mobile_application],\"APPLICATION\")\n| expand appid=called_by[dt.entity.mobile_application]\n| fields appid\n| join [\n   fetch dt.entity.device_application_method\n   | fieldsAdd appid=belongs_to[dt.entity.mobile_application]\n   ], on:{appid}, kind:inner\n| fields uaid=right.id\n| append [data record(uaid=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"entry_point","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter matchesPhrase(called_by[dt.entity.application],\"APPLICATION\") or matchesPhrase(called_by[dt.entity.mobile_application],\"APPLICATION\") or matchesPhrase(called_by[dt.entity.custom_application],\"APPLICATION\")\n| fields id\n| append [data record(id=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"application","type":"query","visible":false,"input":"fetch dt.entity.application\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"mobile_application","type":"query","visible":false,"input":"fetch dt.entity.mobile_application\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"custom_application","type":"query","visible":false,"input":"fetch dt.entity.custom_application\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"device_application_method","type":"query","visible":false,"input":"fetch dt.entity.device_application_method\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"application_method","type":"query","visible":false,"input":"fetch dt.entity.application_method\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"http_check","type":"query","visible":false,"input":"fetch dt.entity.http_check\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"synthetic_test","type":"query","visible":false,"input":"fetch dt.entity.synthetic_test\n| append [data record(id=\"no data\")]\n| fields id","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"database","type":"query","visible":false,"input":"fetch dt.entity.service\n| filter isNotNull(databaseName)\n| fields id\n| append [data record(id=\"no data\")]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]}],"tiles":{"0":{"type":"data","title":"Response time","query":"data record(dt.entity.service=array($service))\n| expand dt.entity.service\n| filterOut dt.entity.service==\"no data\"\n| join [\n\ttimeseries resp_time=avg(dt.service.request.response_time, default: 0), nonempty:true, by:{dt.entity.service}, filter:{ matchesValue(dt.entity.service, array($service))}\n    ], on:{dt.entity.service}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.service)\n| fieldsRemove metric.dt.entity.service\n| fieldsRename resp_time=metric.resp_time\n| sort arrayAvg(resp_time) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"auto","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"end","categoricalBarChartSettings":{"categoryAxis":["dt.entity.service","entity.name"],"categoryAxisLabel":"dt.entity.service,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.service","right.dt.entity.service","right.resp_time","resp_time"],"tooltip":{"seriesDisplayMode":"multi-line","variant":"shared"},"legend":{"position":"auto","hidden":false},"valueRepresentation":"absolute","fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["resp_time"]},"xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Service request response time"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["resp_time"],"value":"sparkline","id":1734545043486}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.service","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.service","entity.name"]},"unitsOverrides":[{"identifier":"lookup.resp_time","unitCategory":"time","baseUnit":"microsecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1733149528770}],"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"segments":{"tileSegmentsEnabled":false,"tileSegments":[{"id":"PCEqBYOZjOX","variables":[{"name":"hostgroup","values":["AIX"]}]}]}},"4":{"type":"data","title":"","query":"//id=dt.entity.process_group, variable=$process_group \ndata record(dt.entity.process_group=array($process_group))\n| expand dt.entity.process_group\n| filterOut dt.entity.process_group==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($process_group))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.process_group=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.process_group }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n\ttimeseries {cpu=avg(dt.process.cpu.usage), mem=avg(dt.process.memory.usage)}, by:{dt.entity.process_group}, filter:{ matchesValue(dt.entity.process_group, array($process_group))}\n\t| fields timeframe, interval, dt.entity.process_group, cpu, mem\n\t| summarize {cpu.avg = avg(arrayAvg(cpu)),mem.avg = avg(arrayAvg(mem))}, by:{dt.entity.process_group}\n    ], on: { dt.entity.process_group }, kind:leftOuter, prefix: \"metric.\"\n| fields entity.name=entityName(dt.entity.process_group), status, cpu.usage=metric.cpu.avg, mem.usage=metric.cpu.avg, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id,  dt.entity.process_group\n| sort status, cpu.usage desc\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","latest pb","dt.entity.process_group"],"valueAxis":[],"categoryAxisLabel":"entity.name,status,latest pb,dt.entity.process_group","valueAxisLabel":"","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["dt.entity.process_group"],["event.id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":266.3333435058594,"[\"cpu.avg\"]":112.86666870117188,"[\"cpu.max\"]":116.01667022705078,"[\"mem.avg\"]":128.5625},"columnTypeOverrides":[],"sortBy":{"columnId":"[\"cpu.usage\"]","direction":"unset"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["entity.name","status","latest pb","dt.entity.process_group"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","latest pb","dt.entity.process_group"]},"unitsOverrides":[{"identifier":"cpu.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264020408},{"identifier":"mem.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264044799}]},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Process group","query":"//id=dt.entity.process_group, variable=$process_group \ndata record(dt.entity.process_group=array($process_group))\n| expand dt.entity.process_group\n| filterOut dt.entity.process_group==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($process_group))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.process_group=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.process_group }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityNAme(dt.entity.process_group), dt.entity.process_group\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.process_group","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.process_group"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.process_group"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.process_group"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"markdown","title":"","content":"### process"},"9":{"type":"markdown","title":"","content":"### service"},"14":{"type":"data","title":"Cpu  usage %","query":"data record(dt.entity.process_group=array($process_group))\n| expand dt.entity.process_group\n| filterOut dt.entity.process_group==\"no data\"\n| join [\n\ttimeseries cpu=avg(dt.process.cpu.usage, default: 0), nonempty:true, by:{dt.entity.process_group}, filter:{ matchesValue(dt.entity.process_group, array($process_group))}\n    ], on:{dt.entity.process_group}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.process_group)\n| fieldsRemove metric.dt.entity.process_group\n| fieldsRename cpu=metric.cpu\n| sort arrayAvg(cpu) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"end","categoricalBarChartSettings":{"categoryAxis":["dt.entity.process_group","entity.name"],"categoryAxisLabel":"dt.entity.process_group,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.process_group"],"tooltip":{"seriesDisplayMode":"multi-line","variant":"shared"},"legend":{"position":"auto","hidden":false},"valueRepresentation":"absolute","fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["cpu"]},"xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Process CPU usage"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["cpu"],"value":"sparkline","id":1734433428641}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.process_group","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.process_group","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"Memory usage %","query":"data record(dt.entity.process_group=array($process_group))\n| expand dt.entity.process_group\n| filterOut dt.entity.process_group==\"no data\"\n| join [\n\ttimeseries mem=avg(dt.process.memory.usage, default: 0), nonempty:true, by:{dt.entity.process_group}, filter:{ matchesValue(dt.entity.process_group, array($process_group))}\n    ], on:{dt.entity.process_group}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.process_group)\n| fieldsRemove metric.dt.entity.process_group\n| fieldsRename mem=metric.mem\n| sort arrayAvg(mem) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["dt.entity.process_group","entity.name"],"categoryAxisLabel":"dt.entity.process_group,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.process_group"],"fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["mem"]},"seriesOverrides":[{"seriesId":["[lab_easytravel10] - dynatracelab10"],"override":{"color":"#b3007d"}}],"valueRepresentation":"absolute","xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Process memory usage"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["mem"],"value":"sparkline","id":1734433427951}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.process_group","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.process_group","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"16":{"type":"data","title":"","query":"//id=dt.entity.service, variable=$service \ndata record(dt.entity.service=array($service))\n| expand dt.entity.service\n| filterOut dt.entity.service==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($service))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.service=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.service }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n\ttimeseries {resp_time=avg(dt.service.request.response_time), failure_count=sum(dt.service.request.failure_count), count=sum(dt.service.request.count)}, by:{dt.entity.service}, filter:{ matchesValue(dt.entity.service, array($service))}\n\t| fields timeframe,interval, dt.entity.service, resp_time, failure_count, count\n\t| summarize {resp_time = avg(arrayAvg(resp_time)), failure_count = sum(arraySum(failure_count)), count=sum(arraySum(count))}, by:{dt.entity.service}\n    ], on:{dt.entity.service}, kind:leftOuter, prefix:\"metric.\"\n|join[\n    data record(dt.entity.service=array($entry_point))\n    | expand dt.entity.service\n    | filterOut dt.entity.service==\"no data\"\n    ], on:{dt.entity.service}, kind:leftOuter, prefix:\"ep.\"\n|join[\n    data record(dt.entity.service=array($database))\n    | expand dt.entity.service\n    | filterOut dt.entity.service==\"no data\"\n    ], on:{dt.entity.service}, kind:leftOuter, prefix:\"db.\"\n| fieldsAdd entry_point=if(isNotNull(ep.dt.entity.service),\"俱뫮잺\",else : \"\")\n| fieldsAdd database=if(isNotNull(db.dt.entity.service),\"[db]\",else : \"\")\n| fields entity.name=entityName(dt.entity.service), status, type=concat(entry_point,database), resp_time=metric.resp_time, failure=metric.failure_count, request=metric.count, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.service\n| sort status, type desc, resp_time desc\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","type","latest pb","dt.entity.service"],"valueAxis":["resp_time","failure","request"],"categoryAxisLabel":"entity.name,status,type,latest pb,dt.entity.service","valueAxisLabel":"resp_time,failure,request","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle","valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["dt.entity.service"],["event.id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":257.3333435058594},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"resp_time"},"displayedFields":["entity.name","status","type","latest pb","dt.entity.service"]},"histogram":{"dataMappings":[{"valueAxis":"resp_time","rangeAxis":""},{"valueAxis":"failure","rangeAxis":""},{"valueAxis":"request","rangeAxis":""}],"variant":"single","displayedFields":["entity.name","status","type","latest pb","dt.entity.service"]},"unitsOverrides":[{"identifier":"failure","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1734263904345},{"identifier":"request","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1734263925714}]},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"data","title":"Service","query":"//id=dt.entity.service, variable=$service \ndata record(dt.entity.service=array($service))\n| expand dt.entity.service\n| filterOut dt.entity.service==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($service))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.service=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.service }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityNAme(dt.entity.service), dt.entity.service\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.service","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.service"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["entity.name"],["dt.entity.service"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.service"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}],"truncationMode":"middle"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.service"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"18":{"type":"data","title":"Failure","query":"data record(dt.entity.service=array($service))\n| expand dt.entity.service\n| filterOut dt.entity.service==\"no data\"\n| join [\n\ttimeseries failure=sum(dt.service.request.failure_count, default: 0), nonempty:true, by:{dt.entity.service}, filter:{ matchesValue(dt.entity.service, array($service))}\n    ], on:{dt.entity.service}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.service)\n| fieldsRemove metric.dt.entity.service\n| fieldsRename failure=metric.failure\n| sort arraySum(failure) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"end","categoricalBarChartSettings":{"categoryAxis":["dt.entity.service","entity.name"],"categoryAxisLabel":"dt.entity.service,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.service"],"tooltip":{"seriesDisplayMode":"multi-line","variant":"shared"},"legend":{"position":"auto","hidden":false},"valueRepresentation":"absolute","fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["failure"]},"xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Service failure count"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["failure"],"value":"sparkline","id":1734545044157}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.service","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.service","entity.name"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"19":{"type":"data","title":"Throughput","query":"data record(dt.entity.service=array($service))\n| expand dt.entity.service\n| filterOut dt.entity.service==\"no data\"\n| join [\n\ttimeseries count=sum(dt.service.request.count, default: 0), nonempty:true, by:{dt.entity.service}, filter:{ matchesValue(dt.entity.service, array($service))}\n    ], on:{dt.entity.service}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.service)\n| fieldsRemove metric.dt.entity.service\n| fieldsRename request=metric.count\n| sort arraySum(request) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"end","categoricalBarChartSettings":{"categoryAxis":["dt.entity.service","entity.name"],"categoryAxisLabel":"dt.entity.service,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.service"],"tooltip":{"seriesDisplayMode":"multi-line","variant":"shared"},"legend":{"position":"auto","hidden":false},"valueRepresentation":"absolute","fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["request"]},"xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Service request count"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["request"],"value":"sparkline","id":1734545043997}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.service","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.service","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"20":{"type":"data","title":"Worker","query":"data record(dt.entity.process_group=array($process_group))\n| expand dt.entity.process_group\n| filterOut dt.entity.process_group==\"no data\"\n| join [\n\ttimeseries worker=sum(dt.process.process_count, default: 0), nonempty:true, by:{dt.entity.process_group}, filter:{ matchesValue(dt.entity.process_group, array($process_group))}\n    ], on:{dt.entity.process_group}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.process_group)\n| fieldsRemove metric.dt.entity.process_group\n| fieldsRename worker=metric.worker\n| sort arrayAvg(worker) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxisLabel":"dt.entity.process_group,entity.name","valueAxisLabel":"metric.interval","tooltipVariant":"single","categoryAxis":["dt.entity.process_group","entity.name"],"valueAxis":["metric.interval"]},"hiddenLegendFields":["dt.entity.process_group"],"seriesOverrides":[{"seriesId":["[lab_easytravel10] - dynatracelab10"],"override":{"color":"#b3007d"}}],"valueRepresentation":"absolute","xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Worker processes"},"fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["worker"]}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["worker"],"value":"sparkline","id":1734433428733}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.process_group","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.process_group","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"22":{"type":"markdown","title":"","content":"### application"},"23":{"type":"data","title":"","query":"//concat\n//id=dt.entity.application, variable=$application_from_service \n//id=dt.entity.mobile_application, variable=$amobile_pplication \n//id=dt.entity.custom_pplication, variable=$custom_application_from_service \ndata record(dt.entity.application=ArrayConcat(array($application),array($mobile_application),array($custom_application),array($application_from_service),array($mobile_application_from_service),array($custom_application_from_service)))\n| expand dt.entity.application\n| dedup dt.entity.application\n| filterOut dt.entity.application==\"no data\"\n| parse dt.entity.application, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($application)) or matchesValue(affected_entity_ids,array($custom_application)) or matchesValue(affected_entity_ids,array($mobile_application)) or matchesValue(affected_entity_ids,array($application_from_service)) or matchesValue(affected_entity_ids,array($custom_application_from_service)) or matchesValue(affected_entity_ids,array($mobile_application_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.application=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.application }, kind:leftOuter\n| fieldsAdd name_app=if(type==\"APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.application\"), else: \"\")\n| fieldsAdd name_mob=if(type==\"MOBILE_APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.mobile_application\"), else: \"\")\n| fieldsAdd name_cust=if(type==\"CUSTOM_APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.custom_application\"), else: \"\")\n| fieldsAdd type_app=if(type==\"APPLICATION\", \"web\", else: \"\")\n| fieldsAdd type_mob=if(type==\"MOBILE_APPLICATION\", \"mobile\", else: \"\")\n| fieldsAdd type_cust=if(type==\"CUSTOM_APPLICATION\", \"custom\", else: \"\")\n| fieldsAdd entity.name=concat(name_app,name_mob,name_cust), entity.type=concat(type_app,type_mob,type_cust)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields entity.name, status, entity.type, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.application\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"entity.name,status,entity.type,latest pb,dt.entity.application","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["entity.name","status","entity.type","latest pb","dt.entity.application"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle","valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.application"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":164.33334350585938},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.application"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.application"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"24":{"type":"data","title":"Application","query":"//concat\n//id=dt.entity.application, variable=$application_from_service \n//id=dt.entity.mobile_application, variable=$amobile_pplication \n//id=dt.entity.custom_pplication, variable=$custom_application_from_service \ndata record(dt.entity.application=ArrayConcat(array($application),array($mobile_application),array($custom_application),array($application_from_service),array($mobile_application_from_service),array($custom_application_from_service)))\n| expand dt.entity.application\n| dedup dt.entity.application\n| filterOut dt.entity.application==\"no data\"\n| parse dt.entity.application, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($application)) or matchesValue(affected_entity_ids,array($custom_application)) or matchesValue(affected_entity_ids,array($mobile_application)) or matchesValue(affected_entity_ids,array($application_from_service)) or matchesValue(affected_entity_ids,array($custom_application_from_service)) or matchesValue(affected_entity_ids,array($mobile_application_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.application=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.application }, kind:leftOuter\n| fieldsAdd name_app=if(type==\"APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.application\"), else: \"\")\n| fieldsAdd name_mob=if(type==\"MOBILE_APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.mobile_application\"), else: \"\")\n| fieldsAdd name_cust=if(type==\"CUSTOM_APPLICATION\", entityName(dt.entity.application, type:\"dt.entity.custom_application\"), else: \"\")\n| fieldsAdd entity.name=concat(name_app,name_mob,name_cust)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name, dt.entity.application\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.application","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.application"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.application"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}],"truncationMode":"middle"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.application"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"27":{"type":"data","title":"","query":"//concat :\n//id=dt.entity.synthetic_test, variable=$synthetic_test_from_service \n//id=dt.entity.http_check, variable=$http_check_from_service \ndata record(dt.entity.synthetic=ArrayConcat(array($synthetic_test),array($http_check),array($synthetic_test_from_service),array($http_check_from_service)))\n| expand dt.entity.synthetic\n| dedup dt.entity.synthetic\n| filterOut dt.entity.synthetic==\"no data\"\n| parse dt.entity.synthetic, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($synthetic_test)) or matchesValue(affected_entity_ids,array($http_check)) or matchesValue(affected_entity_ids,array($synthetic_test_from_service)) or matchesValue(affected_entity_ids,array($http_check_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.synthetic=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.synthetic }, kind:leftOuter\n| fieldsAdd name_synth=if(type==\"SYNTHETIC_TEST\", entityName(dt.entity.synthetic, type:\"dt.entity.synthetic_test\"), else: \"\")\n| fieldsAdd name_http=if(type==\"HTTP_CHECK\", entityName(dt.entity.synthetic, type:\"dt.entity.http_check\"), else: \"\")\n| fieldsAdd type_synth=if(type==\"SYNTHETIC_TEST\", \"browser monitor\", else: \"\")\n| fieldsAdd type_http=if(type==\"HTTP_CHECK\", \"http check\", else: \"\")\n| fieldsAdd entity.name=concat(name_synth,name_http), entity.type=concat(type_synth,type_http)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields entity.name, status, entity.type, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.synthetic_test=dt.entity.synthetic\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","entity.type","latest pb","dt.entity.synthetic_test"],"valueAxis":[],"categoryAxisLabel":"entity.name,status,entity.type,latest pb,dt.entity.synthetic_test","valueAxisLabel":"","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle","valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.synthetic_test"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":236.33334350585938},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.synthetic_test"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.synthetic_test"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"29":{"type":"data","title":"Synthetic","query":"//concat :\n//id=dt.entity.synthetic_test, variable=$synthetic_test_from_service \n//id=dt.entity.http_check, variable=$http_check_from_service \ndata record(dt.entity.synthetic=ArrayConcat(array($synthetic_test),array($http_check),array($synthetic_test_from_service),array($http_check_from_service)))\n| expand dt.entity.synthetic\n| dedup dt.entity.synthetic\n| filterOut dt.entity.synthetic==\"no data\"\n| parse dt.entity.synthetic, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($synthetic_test)) or matchesValue(affected_entity_ids,array($http_check)) or matchesValue(affected_entity_ids,array($synthetic_test_from_service)) or matchesValue(affected_entity_ids,array($http_check_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.synthetic=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.synthetic }, kind:leftOuter\n| fieldsAdd name_synth=if(type==\"SYNTHETIC_TEST\", entityName(dt.entity.synthetic, type:\"dt.entity.synthetic_test\"), else: \"\")\n| fieldsAdd name_http=if(type==\"HTTP_CHECK\", entityName(dt.entity.synthetic, type:\"dt.entity.http_check\"), else: \"\")\n| fieldsAdd entity.name=concat(name_synth,name_http)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name, dt.entity.synthetic\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.synthetic","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.synthetic"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.synthetic"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}],"truncationMode":"middle"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.synthetic"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"30":{"type":"markdown","title":"","content":"### k8s\n"},"34":{"type":"data","title":"","query":"//id=dt.entity.cloud_application_namespace, variable=$cloud_application_namespace \ndata record(dt.entity.cloud_application_namespace=array($cloud_application_namespace))\n| expand dt.entity.cloud_application_namespace\n| filterOut dt.entity.cloud_application_namespace==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application_namespace))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application_namespace=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application_namespace }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n    timeseries {cpu.usage=sum(dt.kubernetes.container.cpu_usage, default:0, rollup:avg), mem.usage=sum(dt.kubernetes.container.memory_working_set, default:0, rollup:avg)}, by:{dt.entity.cloud_application_namespace}, filter:{ matchesValue(dt.entity.cloud_application_namespace, array($cloud_application_namespace))}\n\t| fields timeframe, interval, dt.entity.cloud_application_namespace, cpu.usage, mem.usage\n\t| summarize {cpu.usage = avg(arrayAvg(cpu.usage)), mem.usage = avg(arrayAvg(mem.usage))}, by:{dt.entity.cloud_application_namespace}\n    ], on: { dt.entity.cloud_application_namespace }, kind:leftOuter, prefix: \"metric.\"\n| fields  entity.name=entityName(dt.entity.cloud_application_namespace), status, cpu.usage=metric.cpu.usage, mem.usage=metric.mem.usage, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.cloud_application_namespace\n| sort status, cpu.usage desc\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"entity.name,status,latest pb,event.id,dt.entity.cloud_application_namespace","valueAxisLabel":"cpu.usage,mem.usage","tooltipVariant":"single","categoryAxis":["entity.name","status","latest pb","event.id","dt.entity.cloud_application_namespace"],"valueAxis":["cpu.usage","mem.usage"]},"hiddenLegendFields":[],"truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","leftYAxisSettings":{"isLabelVisible":true,"label":"CPU usage %  Memory used %"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.cloud_application_namespace"]],"linewrapEnabled":true,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":142.33334350585938},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"cpu.usage"},"displayedFields":["entity.name","status","latest pb","event.id","dt.entity.cloud_application_namespace"]},"histogram":{"dataMappings":[{"valueAxis":"cpu.usage","rangeAxis":""},{"valueAxis":"mem.usage","rangeAxis":""}],"variant":"single","displayedFields":["entity.name","status","latest pb","dt.entity.cloud_application_namespace"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"35":{"type":"data","title":"Namespace","query":"//id=dt.entity.cloud_application_namespace, variable=$cloud_application_namespace \ndata record(dt.entity.cloud_application_namespace=array($cloud_application_namespace))\n| expand dt.entity.cloud_application_namespace\n| filterOut dt.entity.cloud_application_namespace==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application_namespace))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application_namespace=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application_namespace }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityName(dt.entity.cloud_application_namespace), dt.entity.cloud_application_namespace\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.cloud_application_namespace","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.cloud_application_namespace"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.cloud_application_namespace"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.cloud_application_namespace"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"40":{"type":"data","title":"","query":"//id=dt.entity.cloud_application_instance, variable=$cloud_application_instance \ndata record(dt.entity.cloud_application_instance=array($cloud_application_instance))\n| expand dt.entity.cloud_application_instance\n| filterOut dt.entity.cloud_application_instance==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filterOut matchesPhrase(dt.system.bucket,\"security\")\n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application_instance))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application_instance=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application_instance }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n    timeseries {cpu.usage=sum(dt.kubernetes.container.cpu_usage, default:0, rollup:avg), mem.usage=sum(dt.kubernetes.container.memory_working_set, default:0, rollup:avg)}, by:{dt.entity.cloud_application_instance}, filter:{ matchesValue(dt.entity.cloud_application_instance, array($cloud_application_instance))}\n\t| fields timeframe, interval, dt.entity.cloud_application_instance, cpu.usage, mem.usage\n\t| summarize {cpu.usage = avg(arrayAvg(cpu.usage)), mem.usage = avg(arrayAvg(mem.usage))}, by:{dt.entity.cloud_application_instance}\n    ], on: { dt.entity.cloud_application_instance }, kind:leftOuter, prefix: \"metric.\"\n| fields  entity.name=entityName(dt.entity.cloud_application_instance), status, cpu.usage=metric.cpu.usage, mem.usage=metric.mem.usage, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.cloud_application_instance\n| sort status, cpu.usage desc\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"entity.name,status,latest pb,dt.entity.cloud_application_instance","valueAxisLabel":"cpu.usage,mem.usage","tooltipVariant":"single","categoryAxis":["entity.name","status","latest pb","dt.entity.cloud_application_instance"],"valueAxis":["cpu.usage","mem.usage"]},"hiddenLegendFields":[],"truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","leftYAxisSettings":{"isLabelVisible":true,"label":"CPU usage %  Memory used %"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.cloud_application_instance"]],"linewrapEnabled":true,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":362.3333435058594},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"cpu.usage"},"displayedFields":["entity.name","status","latest pb","dt.entity.cloud_application_instance"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","latest pb","dt.entity.cloud_application_instance"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"41":{"type":"data","title":"Pod","query":"//id=dt.entity.cloud_application_instance, variable=$cloud_application_instance \ndata record(dt.entity.cloud_application_instance=array($cloud_application_instance))\n| expand dt.entity.cloud_application_instance\n| filterOut dt.entity.cloud_application_instance==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application_instance))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application_instance=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application_instance }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityName(dt.entity.cloud_application_instance), dt.entity.cloud_application_instance\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.cloud_application_instance","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.cloud_application_instance"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.cloud_application_instance"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.cloud_application_instance"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"46":{"type":"data","title":"","query":"//id=dt.entity.cloud_application, variable=$cloud_application \ndata record(dt.entity.cloud_application=array($cloud_application))\n| expand dt.entity.cloud_application\n| filterOut dt.entity.cloud_application==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n    timeseries {cpu.usage=sum(dt.kubernetes.container.cpu_usage, default:0, rollup:avg), mem.usage=sum(dt.kubernetes.container.memory_working_set, default:0, rollup:avg)}, by:{dt.entity.cloud_application}, filter:{ matchesValue(dt.entity.cloud_application, array($cloud_application))}\n\t| fields timeframe, interval, dt.entity.cloud_application, cpu.usage, mem.usage\n\t| summarize {cpu.usage = avg(arrayAvg(cpu.usage)), mem.usage = avg(arrayAvg(mem.usage))}, by:{dt.entity.cloud_application}\n    ], on: { dt.entity.cloud_application }, kind:leftOuter, prefix: \"metric.\"\n| fields  entity.name=entityName(dt.entity.cloud_application), status, cpu.usage=metric.cpu.usage, mem.usage=metric.mem.usage, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.cloud_application\n| sort status, cpu.usage desc\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"entity.name,status,latest pb,event.id,dt.entity.cloud_application","valueAxisLabel":"cpu.usage,mem.usage","tooltipVariant":"single","categoryAxis":["entity.name","status","latest pb","event.id","dt.entity.cloud_application"],"valueAxis":["cpu.usage","mem.usage"]},"hiddenLegendFields":[],"truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","leftYAxisSettings":{"isLabelVisible":true,"label":"CPU usage %  Memory used %"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.cloud_application"]],"linewrapEnabled":true,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":200.33334350585938},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"cpu.usage"},"displayedFields":["entity.name","status","latest pb","event.id","dt.entity.cloud_application"]},"histogram":{"dataMappings":[{"valueAxis":"cpu.usage","rangeAxis":""},{"valueAxis":"mem.usage","rangeAxis":""}],"variant":"single","displayedFields":["entity.name","status","latest pb","dt.entity.cloud_application"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"47":{"type":"data","title":"Workload","query":"//id=dt.entity.cloud_application, variable=$cloud_application \ndata record(dt.entity.cloud_application=array($cloud_application))\n| expand dt.entity.cloud_application\n| filterOut dt.entity.cloud_application==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($cloud_application))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.cloud_application=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.cloud_application }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityName(dt.entity.cloud_application), dt.entity.cloud_application\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.cloud_application","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.cloud_application"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.cloud_application"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.cloud_application"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"48":{"type":"markdown","title":"","content":"### host"},"49":{"type":"data","title":"Network traffic","query":"data record(dt.entity.host=array($host))\n| expand dt.entity.host\n| filterOut dt.entity.host==\"no data\"\n| join [\n\ttimeseries {rx=avg(dt.host.net.nic.bytes_rx, default: 0), tx=avg(dt.host.net.nic.bytes_tx, default: 0)}, nonempty:true, by:{dt.entity.host}, filter:{ matchesValue(dt.entity.host, array($host))}\n    ], on:{dt.entity.host}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.host)\n| fieldsRemove metric.dt.entity.host\n| fieldsRename rx=metric.rx,tx=metric.tx\n| sort arrayAvg(rx) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["dt.entity.host","entity.name"],"categoryAxisLabel":"dt.entity.host,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.host"],"fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["rx","tx"]},"seriesOverrides":[{"seriesId":["[lab_easytravel10] - dynatracelab10"],"override":{"color":"#b3007d"}}],"valueRepresentation":"absolute","xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Disk used %"},"bandChartSettings":{"lower":"rx","upper":"tx","time":"metric.timeframe"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["rx","tx"],"value":"sparkline","id":1734634672857}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.host","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.host","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"50":{"type":"data","title":"Memory usage %","query":"data record(dt.entity.host=array($host))\n| expand dt.entity.host\n| filterOut dt.entity.host==\"no data\"\n| join [\n\ttimeseries mem=avg(dt.host.memory.usage, default: 0), nonempty:true, by:{dt.entity.host}, filter:{ matchesValue(dt.entity.host, array($host))}\n    ], on:{dt.entity.host}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.host)\n| fieldsRemove metric.dt.entity.host\n| fieldsRename mem=metric.mem\n| sort arrayAvg(mem) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["dt.entity.host","entity.name"],"categoryAxisLabel":"dt.entity.host,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.host"],"fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["mem"]},"seriesOverrides":[{"seriesId":["[lab_easytravel10] - dynatracelab10"],"override":{"color":"#b3007d"}}],"valueRepresentation":"absolute","xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"Memory used %"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["mem"],"value":"sparkline","id":1734634672719}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.host","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.host","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"51":{"type":"data","title":"Cpu usage %","query":"data record(dt.entity.host=array($host))\n| expand dt.entity.host\n| filterOut dt.entity.host==\"no data\"\n| join [\n\ttimeseries cpu=avg(dt.host.cpu.usage, default: 0), nonempty:true, by:{dt.entity.host}, filter:{ matchesValue(dt.entity.host, array($host))}\n    ], on:{dt.entity.host}, kind:leftOuter, prefix: \"metric.\"\n| filterOut isNull(metric.timeframe)\n| fieldsAdd  entity.name=entityName(dt.entity.host)\n| fieldsRemove metric.dt.entity.host\n| fieldsRename cpu=metric.cpu\n| sort arrayAvg(cpu) desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"end","categoricalBarChartSettings":{"categoryAxis":["dt.entity.host","entity.name"],"categoryAxisLabel":"dt.entity.host,entity.name","valueAxis":["metric.interval"],"valueAxisLabel":"metric.interval","tooltipVariant":"single"},"hiddenLegendFields":["dt.entity.host"],"fieldMapping":{"timestamp":"metric.timeframe","leftAxisValues":["cpu"]},"tooltip":{"seriesDisplayMode":"multi-line","variant":"shared"},"legend":{"position":"auto","hidden":false},"valueRepresentation":"absolute","xAxisLabel":"metric.timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":false,"label":"CPU usage %"}},"singleValue":{"showLabel":true,"label":"dt.entity.host","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["cpu"],"value":"sparkline","id":1734634674302}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"metric.interval"},"displayedFields":["dt.entity.host","entity.name"]},"histogram":{"dataMappings":[{"valueAxis":"metric.interval","rangeAxis":""}],"variant":"single","displayedFields":["dt.entity.host","entity.name"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-2h","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"52":{"type":"data","title":"","query":"//id=dt.entity.host, variable=$host \ndata record(dt.entity.host=array($host))\n| expand dt.entity.host\n| filterOut dt.entity.host==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($host))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.host=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.host }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| join [\n\ttimeseries {cpu=avg(dt.host.cpu.usage), mem=avg(dt.host.memory.usage)}, by:{dt.entity.host}, filter:{ matchesValue(dt.entity.host, array($host))}\n\t| fields timeframe, interval, dt.entity.host, cpu, mem\n\t| summarize {cpu.avg = avg(arrayAvg(cpu)), mem.avg = avg(arrayAvg(mem))}, by:{dt.entity.host}\n    ], on: { dt.entity.host }, kind:leftOuter, prefix: \"metric.\"\n| fields entity.name=entityName(dt.entity.host), status, cpu.usage=metric.cpu.avg, mem.usage=metric.mem.avg,`latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.host\n| sort status, cpu.usage desc\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","latest pb","event.id","dt.entity.host"],"valueAxis":["cpu.usage","mem.usage"],"categoryAxisLabel":"entity.name,status,latest pb,event.id,dt.entity.host","valueAxisLabel":"cpu.usage,mem.usage","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","leftYAxisSettings":{"isLabelVisible":true,"label":"CPU usage %  Memory used %"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.host"]],"linewrapEnabled":true,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":258.3333435058594},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"cpu.usage"},"displayedFields":["entity.name","status","latest pb","event.id","dt.entity.host"]},"histogram":{"dataMappings":[{"valueAxis":"cpu.usage","rangeAxis":""},{"valueAxis":"mem.usage","rangeAxis":""}],"variant":"single","displayedFields":["entity.name","status","latest pb","event.id","dt.entity.host"]},"unitsOverrides":[{"identifier":"cpu.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264115137},{"identifier":"mem.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264130658}]},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"53":{"type":"data","title":"Host","query":"//id=dt.entity.host, variable=$host \ndata record(dt.entity.host=array($host))\n| expand dt.entity.host\n| filterOut dt.entity.host==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($host))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.host=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.host }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityName(dt.entity.host), dt.entity.host\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.host","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.host"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.host"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.host"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"60":{"type":"data","title":"","query":"//concat :\n//id=dt.entity.application_method, variable=$application_method_from_service \n//id=dt.entity.device_application_method, variable=$device_application_method_from_service \ndata record(dt.entity.user_action=ArrayConcat(array($application_method),array($device_application_method),array($application_method_from_service),array($device_application_method_from_service)))\n| expand dt.entity.user_action\n| dedup dt.entity.user_action\n| filterOut dt.entity.user_action==\"no data\"\n| parse dt.entity.user_action, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($application_method)) or matchesValue(affected_entity_ids,array($device_application_method)) or matchesValue(affected_entity_ids,array($application_method_from_service)) or matchesValue(affected_entity_ids,array($device_application_method_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.user_action=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.user_action }, kind:leftOuter\n| fieldsAdd ua_web=if(type==\"APPLICATION_METHOD\", entityName(dt.entity.user_action, type:\"dt.entity.application_method\"), else: \"\")\n| fieldsAdd ua_mobile=if(type==\"DEVICE_APPLICATION_METHOD\", entityName(dt.entity.user_action, type:\"dt.entity.device_application_method\"), else: \"\")\n| fieldsAdd type_web=if(type==\"APPLICATION_METHOD\", \"web\", else: \"\")\n| fieldsAdd type_mobile=if(type==\"DEVICE_APPLICATION_METHOD\", \"mobile\", else: \"\")\n| fieldsAdd entity.name=concat(ua_web,ua_mobile), entity.type=concat(type_web,type_mobile)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields entity.name, status, entity.type, `latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.application_method=dt.entity.user_action\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","entity.type","latest pb","dt.entity.application_method"],"valueAxis":[],"categoryAxisLabel":"entity.name,status,entity.type,latest pb,dt.entity.application_method","valueAxisLabel":"","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle","valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.application_method"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":216.33334350585938},"columnTypeOverrides":[],"sortBy":{"columnId":"[\"entity.type\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.application_method"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","entity.type","latest pb","dt.entity.application_method"]}},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"61":{"type":"data","title":"Key user action","query":"//concat :\n//id=dt.entity.application_method, variable=$application_method_from_service \n//id=dt.entity.device_application_method, variable=$device_application_method_from_service \ndata record(dt.entity.user_action=ArrayConcat(array($application_method),array($device_application_method),array($application_method_from_service),array($device_application_method_from_service)))\n| expand dt.entity.user_action\n| dedup dt.entity.user_action\n| filterOut dt.entity.user_action==\"no data\"\n| parse dt.entity.user_action, \"\"\"LD:type '-'LD\"\"\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and (matchesValue(affected_entity_ids,array($application_method)) or matchesValue(affected_entity_ids,array($device_application_method)) or matchesValue(affected_entity_ids,array($application_method_from_service)) or matchesValue(affected_entity_ids,array($device_application_method_from_service)))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.user_action=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.user_action }, kind:leftOuter\n| fieldsAdd ua_web=if(type==\"APPLICATION_METHOD\", entityName(dt.entity.user_action, type:\"dt.entity.application_method\"), else: \"\")\n| fieldsAdd ua_mobile=if(type==\"DEVICE_APPLICATION_METHOD\", entityName(dt.entity.user_action, type:\"dt.entity.device_application_method\"), else: \"\")\n| fieldsAdd entity.name=concat(ua_web,ua_mobile)\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name, dt.entity.user_action\n| sort status\n| limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.user_action","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.user_action"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.user_action"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}],"truncationMode":"middle"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.user_action"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"62":{"type":"markdown","title":"","content":"### extension"},"63":{"type":"data","title":"","query":"//id=dt.entity.custom_device, variable=$custom_device \ndata record(dt.entity.custom_device=array($custom_device))\n| expand dt.entity.custom_device\n| filterOut dt.entity.custom_device==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($custom_device))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.custom_device=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.custom_device }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields entity.name=entityName(dt.entity.custom_device), status,`latest pb`=if(isNotNull(right.display_id),right.display_id, else : \"\"), event.id=right.event.id, dt.entity.custom_device\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxis":["entity.name","status","latest pb","dt.entity.custom_device"],"valueAxis":[],"categoryAxisLabel":"entity.name,status,latest pb,dt.entity.custom_device","valueAxisLabel":"","tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","leftYAxisSettings":{"isLabelVisible":true,"label":"CPU usage %  Memory used %"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["event.id"],["dt.entity.custom_device"]],"linewrapEnabled":true,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":258.3333435058594},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["entity.name","status","latest pb","dt.entity.custom_device"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["entity.name","status","latest pb","dt.entity.custom_device"]},"unitsOverrides":[{"identifier":"cpu.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264115137},{"identifier":"mem.avg","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1734264130658}]},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"64":{"type":"data","title":"Custom device","query":"//id=dt.entity.custom_device, variable=$custom_device \ndata record(dt.entity.custom_device=array($custom_device))\n| expand dt.entity.custom_device\n| filterOut dt.entity.custom_device==\"no data\"\n| join [\n    fetch dt.davis.problems \n    | filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(affected_entity_ids,array($custom_device))\n    | expand affected_entity_ids\n    | sort timestamp desc\n    | dedup   affected_entity_ids, display_id, event.id\n    | sort timestamp desc\n    | dedup   affected_entity_ids, event.status\n    | fields dt.entity.custom_device=affected_entity_ids,  status=if(event.status ==\"ACTIVE\",\"游댮\", else: \"游리\"), display_id, event.id\n    ], on: { dt.entity.custom_device }, kind:leftOuter\n| fieldsAdd status=if(isNotNull(right.status),right.status, else: \"游릭\" ), event.id=right.event.id\n| fields status, entity.name=entityName(dt.entity.custom_device), dt.entity.custom_device\n| sort status\n| limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"honeycomb","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"categoryAxisLabel":"status,entity.name,dt.entity.custom_device","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","entity.name","dt.entity.custom_device"],"valueAxis":[]},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"error","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"entity.name\"]":269.09375},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":true},"colorMode":"custom-colors","colorPalette":"categorical","dataMappings":{"value":"status"},"displayedFields":["status","entity.name","dt.entity.custom_device"],"customColors":[{"id":0,"value":"游릭","comparator":"=","color":"#00D26A"},{"id":564849.1999999955,"value":"游리","comparator":"=","color":"#FCD53F"},{"id":577652.3999999985,"value":"游댮","comparator":"=","color":"#F8312F"}]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","entity.name","dt.entity.custom_device"]},"autoSelectVisualization":false},"timeframe":{"tileTimeframeEnabled":false,"tileTimeframe":{"from":"now()-7d","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":12,"y":5,"w":4,"h":4},"4":{"x":2,"y":15,"w":10,"h":4},"5":{"x":0,"y":15,"w":2,"h":4},"8":{"x":0,"y":14,"w":24,"h":1},"9":{"x":0,"y":4,"w":24,"h":1},"14":{"x":12,"y":15,"w":4,"h":4},"15":{"x":16,"y":15,"w":4,"h":4},"16":{"x":2,"y":5,"w":10,"h":4},"17":{"x":0,"y":5,"w":2,"h":4},"18":{"x":16,"y":5,"w":4,"h":4},"19":{"x":20,"y":5,"w":4,"h":4},"20":{"x":20,"y":15,"w":4,"h":4},"22":{"x":0,"y":0,"w":24,"h":1},"23":{"x":2,"y":1,"w":6,"h":3},"24":{"x":0,"y":1,"w":2,"h":3},"27":{"x":18,"y":1,"w":6,"h":3},"29":{"x":16,"y":1,"w":2,"h":3},"30":{"x":0,"y":9,"w":24,"h":1},"34":{"x":2,"y":10,"w":6,"h":4},"35":{"x":0,"y":10,"w":2,"h":4},"40":{"x":18,"y":10,"w":6,"h":4},"41":{"x":16,"y":10,"w":2,"h":4},"46":{"x":10,"y":10,"w":6,"h":4},"47":{"x":8,"y":10,"w":2,"h":4},"48":{"x":0,"y":19,"w":24,"h":1},"49":{"x":20,"y":20,"w":4,"h":4},"50":{"x":16,"y":20,"w":4,"h":4},"51":{"x":12,"y":20,"w":4,"h":4},"52":{"x":2,"y":20,"w":10,"h":4},"53":{"x":0,"y":20,"w":2,"h":4},"60":{"x":10,"y":1,"w":6,"h":3},"61":{"x":8,"y":1,"w":2,"h":3},"62":{"x":0,"y":24,"w":8,"h":1},"63":{"x":2,"y":25,"w":6,"h":4},"64":{"x":0,"y":25,"w":2,"h":4}},"importedWithCode":false,"settings":{}}
